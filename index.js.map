{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import iziToast from 'izitoast';\n\nconst apiKey = '44261766-43e443b40d02cd3bf18e38bdd';\n\nexport function fetchImages(searchQuery) {\n  const url = `https://pixabay.com/api/?key=${apiKey}&q=${searchQuery}&image_type=photo&orientation=horizontal&safesearch=true`;\n  return fetch(url)\n    .then(response => response.json())\n    .then(data => data)\n    .catch(error => {\n      iziToast.error({\n        title: 'Error',\n        message: 'Error while receiving images!',\n        position: 'topRight',\n        timeout: 3000,\n      });\n      console.error(error);\n    });\n}\n","export function renderSearchForm() {\n  const searchForm = document.createElement('form');\n  searchForm.classList.add('search-form');\n\n  const searchInput = document.createElement('input');\n  searchInput.classList.add('search-input');\n  searchInput.type = 'text';\n  searchInput.id = 'search-input';\n  searchInput.placeholder = 'Image Search...';\n\n  const searchButton = document.createElement('button');\n  searchButton.classList.add('search-button');\n  searchButton.type = 'submit';\n  searchButton.textContent = 'Поиск';\n\n  searchForm.appendChild(searchInput);\n  searchForm.appendChild(searchButton);\n\n  return searchForm;\n}\nexport function renderImageGallery(images) {\n  return images.map(image => {\n    const imageCard = document.createElement('a');\n    imageCard.href = image.largeImageURL;\n    imageCard.classList.add('image-card');\n    const imageElement = document.createElement('img');\n    imageElement.src = image.webformatURL;\n    imageElement.alt = image.tags;\n    imageCard.appendChild(imageElement);\n    const info = document.createElement('div');\n    info.classList.add('info');\n    const likes = document.createElement('p');\n    likes.textContent = `Likes: ${image.likes}`;\n    info.appendChild(likes);\n    const views = document.createElement('p');\n    views.textContent = `Views: ${image.views}`;\n    info.appendChild(views);\n    const comments = document.createElement('p');\n    comments.textContent = `Comments: ${image.comments}`;\n    info.appendChild(comments);\n    const downloads = document.createElement('p');\n    downloads.textContent = `Downloads: ${image.downloads}`;\n    info.appendChild(downloads);\n    imageCard.appendChild(info);\n    return imageCard;\n  });\n}\n\nexport function renderImageCard(image) {\n  const imageCard = document.createElement('div');\n  imageCard.classList.add('image-card');\n\n  const imageElement = document.createElement('img');\n  imageElement.src = image.webformatURL;\n  imageElement.alt = image.tags;\n  imageElement.dataset.largeImageURL = image.largeImageURL;\n\n  const info = document.createElement('div');\n  info.classList.add('info');\n\n  const likes = document.createElement('p');\n  likes.classList.add('likes');\n  likes.textContent = `Likes: ${image.likes}`;\n\n  const views = document.createElement('p');\n  views.classList.add('views');\n  views.textContent = `Views: ${image.views}`;\n\n  const comments = document.createElement('p');\n  comments.classList.add('comments');\n  comments.textContent = `Comments: ${image.comments}`;\n\n  const downloads = document.createElement('p');\n  downloads.classList.add('downloads');\n  downloads.textContent = `Downloads: ${image.downloads}`;\n\n  info.appendChild(likes);\n  info.appendChild(views);\n  info.appendChild(comments);\n  info.appendChild(downloads);\n\n  imageCard.appendChild(imageElement);\n  imageCard.appendChild(info);\n\n  return imageCard;\n}\n","import { fetchImages } from './js/pixabay-api';\nimport { renderSearchForm, renderImageGallery } from './js/render-functions';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nconst main = document.querySelector('main');\n\nconst searchForm = renderSearchForm();\nmain.appendChild(searchForm);\n\nconst gallery = document.createElement('div');\ngallery.classList.add('gallery');\nmain.appendChild(gallery);\n\nconst loader = document.createElement('span');\nloader.classList.add('loader');\n\nconst lightbox = new SimpleLightbox('.gallery a', {\n  captions: true,\n});\n\nsearchForm.addEventListener('submit', event => {\n  event.preventDefault();\n  main.appendChild(loader);\n  const searchQuery = document.querySelector('#search-input').value.trim();\n  if (searchQuery === '') {\n    main.removeChild(loader);\n    iziToast.error({\n      title: 'Error',\n      message: 'Please enter your search query!',\n      position: 'topRight',\n      timeout: 3000,\n    });\n    return;\n  }\n\n  gallery.innerHTML = '';\n\n  fetchImages(searchQuery)\n    .then(images => {\n      main.removeChild(loader);\n\n      if (images.hits.length === 0) {\n        iziToast.error({\n          title: 'No results',\n          message:\n            'Sorry, there are no images matching your search query. Please try again!',\n          position: 'topRight',\n          timeout: 3000,\n        });\n      } else {\n        const imageGallery = renderImageGallery(images.hits);\n        imageGallery.forEach(imageCard => {\n          gallery.appendChild(imageCard);\n        });\n        lightbox.refresh();\n      }\n    })\n    .catch(error => {\n      main.removeChild(loader);\n\n      console.error(error);\n      iziToast.error({\n        title: 'Error',\n        message: 'Error while receiving images!',\n        position: 'topRight',\n        timeout: 3000,\n      });\n    });\n  document.querySelector('#search-input').value = '';\n});\n"],"names":["apiKey","fetchImages","searchQuery","url","response","data","error","iziToast","renderSearchForm","searchForm","searchInput","searchButton","renderImageGallery","images","image","imageCard","imageElement","info","likes","views","comments","downloads","main","gallery","loader","lightbox","SimpleLightbox","event"],"mappings":"6vBAEA,MAAMA,EAAS,qCAER,SAASC,EAAYC,EAAa,CACvC,MAAMC,EAAM,gCAAgCH,CAAM,MAAME,CAAW,2DACnE,OAAO,MAAMC,CAAG,EACb,KAAKC,GAAYA,EAAS,MAAM,EAChC,KAAKC,GAAQA,CAAI,EACjB,MAAMC,GAAS,CACdC,EAAS,MAAM,CACb,MAAO,QACP,QAAS,gCACT,SAAU,WACV,QAAS,GACjB,CAAO,EACD,QAAQ,MAAMD,CAAK,CACzB,CAAK,CACL,CClBO,SAASE,GAAmB,CACjC,MAAMC,EAAa,SAAS,cAAc,MAAM,EAChDA,EAAW,UAAU,IAAI,aAAa,EAEtC,MAAMC,EAAc,SAAS,cAAc,OAAO,EAClDA,EAAY,UAAU,IAAI,cAAc,EACxCA,EAAY,KAAO,OACnBA,EAAY,GAAK,eACjBA,EAAY,YAAc,kBAE1B,MAAMC,EAAe,SAAS,cAAc,QAAQ,EACpD,OAAAA,EAAa,UAAU,IAAI,eAAe,EAC1CA,EAAa,KAAO,SACpBA,EAAa,YAAc,QAE3BF,EAAW,YAAYC,CAAW,EAClCD,EAAW,YAAYE,CAAY,EAE5BF,CACT,CACO,SAASG,EAAmBC,EAAQ,CACzC,OAAOA,EAAO,IAAIC,GAAS,CACzB,MAAMC,EAAY,SAAS,cAAc,GAAG,EAC5CA,EAAU,KAAOD,EAAM,cACvBC,EAAU,UAAU,IAAI,YAAY,EACpC,MAAMC,EAAe,SAAS,cAAc,KAAK,EACjDA,EAAa,IAAMF,EAAM,aACzBE,EAAa,IAAMF,EAAM,KACzBC,EAAU,YAAYC,CAAY,EAClC,MAAMC,EAAO,SAAS,cAAc,KAAK,EACzCA,EAAK,UAAU,IAAI,MAAM,EACzB,MAAMC,EAAQ,SAAS,cAAc,GAAG,EACxCA,EAAM,YAAc,UAAUJ,EAAM,KAAK,GACzCG,EAAK,YAAYC,CAAK,EACtB,MAAMC,EAAQ,SAAS,cAAc,GAAG,EACxCA,EAAM,YAAc,UAAUL,EAAM,KAAK,GACzCG,EAAK,YAAYE,CAAK,EACtB,MAAMC,EAAW,SAAS,cAAc,GAAG,EAC3CA,EAAS,YAAc,aAAaN,EAAM,QAAQ,GAClDG,EAAK,YAAYG,CAAQ,EACzB,MAAMC,EAAY,SAAS,cAAc,GAAG,EAC5C,OAAAA,EAAU,YAAc,cAAcP,EAAM,SAAS,GACrDG,EAAK,YAAYI,CAAS,EAC1BN,EAAU,YAAYE,CAAI,EACnBF,CACX,CAAG,CACH,CCvCA,MAAMO,EAAO,SAAS,cAAc,MAAM,EAEpCb,EAAaD,EAAgB,EACnCc,EAAK,YAAYb,CAAU,EAE3B,MAAMc,EAAU,SAAS,cAAc,KAAK,EAC5CA,EAAQ,UAAU,IAAI,SAAS,EAC/BD,EAAK,YAAYC,CAAO,EAExB,MAAMC,EAAS,SAAS,cAAc,MAAM,EAC5CA,EAAO,UAAU,IAAI,QAAQ,EAE7B,MAAMC,EAAW,IAAIC,EAAe,aAAc,CAChD,SAAU,EACZ,CAAC,EAEDjB,EAAW,iBAAiB,SAAUkB,GAAS,CAC7CA,EAAM,eAAc,EACpBL,EAAK,YAAYE,CAAM,EACvB,MAAMtB,EAAc,SAAS,cAAc,eAAe,EAAE,MAAM,OAClE,GAAIA,IAAgB,GAAI,CACtBoB,EAAK,YAAYE,CAAM,EACvBjB,EAAS,MAAM,CACb,MAAO,QACP,QAAS,kCACT,SAAU,WACV,QAAS,GACf,CAAK,EACD,MACD,CAEDgB,EAAQ,UAAY,GAEpBtB,EAAYC,CAAW,EACpB,KAAKW,GAAU,CACdS,EAAK,YAAYE,CAAM,EAEnBX,EAAO,KAAK,SAAW,EACzBN,EAAS,MAAM,CACb,MAAO,aACP,QACE,2EACF,SAAU,WACV,QAAS,GACnB,CAAS,GAEoBK,EAAmBC,EAAO,IAAI,EACtC,QAAQE,GAAa,CAChCQ,EAAQ,YAAYR,CAAS,CACvC,CAAS,EACDU,EAAS,QAAO,EAExB,CAAK,EACA,MAAMnB,GAAS,CACdgB,EAAK,YAAYE,CAAM,EAEvB,QAAQ,MAAMlB,CAAK,EACnBC,EAAS,MAAM,CACb,MAAO,QACP,QAAS,gCACT,SAAU,WACV,QAAS,GACjB,CAAO,CACP,CAAK,EACH,SAAS,cAAc,eAAe,EAAE,MAAQ,EAClD,CAAC"}